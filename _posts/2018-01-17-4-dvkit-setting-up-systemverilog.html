---
layout: post
title: 'DVKit: Setting up SystemVerilog Development'
date: '2018-01-17T20:04:00.000-08:00'
author: Matthew Ballance
tags:
- IDE
- DVKit
- RTL
- Verilog
- SystemVerilog
- UVM
- Eclipse
- SVEditor
- Design Verification
- HDL
modified_time: '2018-01-17T20:18:21.498-08:00'
thumbnail: https://4.bp.blogspot.com/-iy_14JZjvmU/Wl7byVVwQYI/AAAAAAAACNk/EfstsS2KUkoFXk_ZoiAKJUW1zT6WlzbpgCLcBGAs/s72-c/Headline_full.png
blogger_id: tag:blogger.com,1999:blog-142675602739945566.post-6376662403037818546
blogger_orig_url: https://bitsbytesgates.blogspot.com/2018/01/4-dvkit-setting-up-systemverilog.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-iy_14JZjvmU/Wl7byVVwQYI/AAAAAAAACNk/EfstsS2KUkoFXk_ZoiAKJUW1zT6WlzbpgCLcBGAs/s1600/Headline_full.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="411" data-original-width="858" height="190" src="https://4.bp.blogspot.com/-iy_14JZjvmU/Wl7byVVwQYI/AAAAAAAACNk/EfstsS2KUkoFXk_ZoiAKJUW1zT6WlzbpgCLcBGAs/s400/Headline_full.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><br />In my <a href="{{ site.baseurl }}{% post_url 2018-01-07-dvkit-workspaces-projects-and-legacy %}">last post</a> on DVKit, I described how Eclipse uses projects to group source files, and uses workspaces to organize the projects and settings for a given development session. In this post, I'll start to dig into the support that DVKit provides for developing SystemVerilog.<br /><br />DVKit includes the SVEditor plugin (http://sveditor.org), an open source Eclipse plug-in for developing SystemVerilog files. SystemVerilog is an object-oriented language that has similarities to C++ and Java. Unlike C++ and Java, though, SystemVerilog has strong ordering dependencies between files. C++ files can be independently analyzed because each C++ source file must include its dependencies and specify the namespace its content is in (if any). Java is even a bit more structured, requiring the class name and file name to match, and (effectively) requiring the directory structure to match the package namespace structure.<br /><br />In contrast, all content in a SystemVerilog package must effectively be included in a single file. The pre-processor provides a level of workaround to enable classes to be stored in a separate file from the package file that includes them. However, this all adds up to make setting up source analysis for a SystemVerilog file a bit more detail-oriented than for other source languages.<br /><br />In this post, I'll walk through setting up an Eclipse (DVKit) project for the UBus example from the UVM-1.2 library. I downloaded UVM <a href="https://workspace.accellera.org/downloads/standards/uvm/uvm-1.2.tar.gz">here</a>.<br /><br /><h3>Creating a SystemVerilog Project</h3><div>As mentioned in the last post, Eclipse makes it easy to create a project around existing source code. In this case, we know we will be working with SystemVerilog source, so we start by creating a new SVE Project. The wizard is found inside the SVEditor category, as shown below.</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-0KpZHQxVEUI/Wl7cG8zqODI/AAAAAAAACNs/FFlABJrULfgZP1DRR_R3fiHBG4L9ZpYyQCLcBGAs/s1600/NewProject_1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="495" data-original-width="513" height="308" src="https://1.bp.blogspot.com/-0KpZHQxVEUI/Wl7cG8zqODI/AAAAAAAACNs/FFlABJrULfgZP1DRR_R3fiHBG4L9ZpYyQCLcBGAs/s320/NewProject_1.png" width="320" /></a></div><div><br />After selecting the proper wizard for project creation, we need to specify the particulars of the project:<br /><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-aBGwPZWIyEM/Wl7cGgQ2dqI/AAAAAAAACOI/7JPGx7h3wGICcq67lfm2RnJUZiaHRWykwCPcBGAYYCw/s1600/NewProject_2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="495" data-original-width="510" height="320" src="https://3.bp.blogspot.com/-aBGwPZWIyEM/Wl7cGgQ2dqI/AAAAAAAACOI/7JPGx7h3wGICcq67lfm2RnJUZiaHRWykwCPcBGAYYCw/s320/NewProject_2.png" width="320" /></a></div><br />Specifically, in this case:</div><ul><li>ubus -- The name of the project</li><li>c:\usr1\fun\dvkit\uvm-1.2\examples\integrated\ubus -- The location of the ubus project within the UVM tree</li></ul><h4>Specifying Root Files</h4><div>Since the ubus project contains existing sources, we next want to specify the root files so they can be indexed. SystemVerilog files need to be parsed in a very specific order, so it's important to only process the top-level files.</div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-O_3TMM3Q8SQ/Wl7cGt6FGeI/AAAAAAAACOM/y56PSc5G5-cjwNwaOrJEBbTM9-2mCgaxACPcBGAYYCw/s1600/NewProject_3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="497" data-original-width="511" height="311" src="https://1.bp.blogspot.com/-O_3TMM3Q8SQ/Wl7cGt6FGeI/AAAAAAAACOM/y56PSc5G5-cjwNwaOrJEBbTM9-2mCgaxACPcBGAYYCw/s320/NewProject_3.png" width="320" /></a></div><div><br /></div><div>To do this, we first create a New Filelist on the Filelists page of the new SVE Project wizard. The filelist can be named anything, but the default (sve.f) is fine.</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-YKhEKGnC8Ek/Wl7cHHw5m0I/AAAAAAAACOQ/do8mhGz6gZ4zwkwssvt64aK2K3rxoypzgCPcBGAYYCw/s1600/NewProject_4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="544" data-original-width="518" height="320" src="https://1.bp.blogspot.com/-YKhEKGnC8Ek/Wl7cHHw5m0I/AAAAAAAACOQ/do8mhGz6gZ4zwkwssvt64aK2K3rxoypzgCPcBGAYYCw/s320/NewProject_4.png" width="320" /></a></div><div><br /></div><div>The next page is where the magic happens.&nbsp;</div><ul><li>Select the check box next to the 'ubus' project. This will cause all files with a SystemVerilog suffix (.sv, .svh, etc) to be selected</li><li>Click on the 'Compute Filelist' button. This pre-processes all source files and eliminates any files that are included by another.&nbsp;</li><li>The resulting root files are displayed in the Filelist Contents box</li></ul><h3>Checking out the new Project</h3><div>At this point, we've specified the root files in our project in such a way that the SVEditor plug-in can locate and parse them. We can now click Finish on the wizard and see the completed project.</div><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-Dhj0r4nv_7o/Wl7cIMYKWpI/AAAAAAAACOA/F9yGSmocMF8L2W8LFrZIQksye4estojgQCPcBGAYYCw/s1600/ProjectErrors.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="337" data-original-width="781" src="https://4.bp.blogspot.com/-Dhj0r4nv_7o/Wl7cIMYKWpI/AAAAAAAACOA/F9yGSmocMF8L2W8LFrZIQksye4estojgQCPcBGAYYCw/s1600/ProjectErrors.png" /></a></div><div><br /></div><div>Hmm... Okay, so we have a problem. Seems some macros from the UVM library can't be located. Of course, this isn't really surprising given than we haven't told the SVEditor plug-in to parse the UVM files.</div><div><br /></div><h4>Adding External Sources</h4><div>Eclipse provides several ways to reference project-external source files. The easiest in this case is to just add the UVM library to the filelist that we already created.</div><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-10iMg-RVG-U/Wl7cIHfylGI/AAAAAAAACOA/uS2Sj5FpfL8OnUatXWawvAGqgtD_jO0TwCPcBGAYYCw/s1600/ProjectErrorsResolved.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="332" data-original-width="678" src="https://2.bp.blogspot.com/-10iMg-RVG-U/Wl7cIHfylGI/AAAAAAAACOA/uS2Sj5FpfL8OnUatXWawvAGqgtD_jO0TwCPcBGAYYCw/s1600/ProjectErrorsResolved.png" /></a></div><div><br /></div><div>We edit the sve.f file that we created during the project-creation process, and add two absolute paths to where we unpacked the UVM bundle:</div><ul><li>+incdir+&lt;uvm_install&gt;/src</li><li>&lt;uvm_install&gt;/src/uvm_pkg.sv</li></ul><div>After saving the file, we now have a project without errors.</div><div><br /></div><h3>Results</h3><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-Y9EP3nXnaM4/WmAapP9-aZI/AAAAAAAACOc/KHPEgUifqIA2-L9aJk7-mpGKwGPg7I1yQCLcBGAs/s1600/Headline_full.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="411" data-original-width="858" src="https://4.bp.blogspot.com/-Y9EP3nXnaM4/WmAapP9-aZI/AAAAAAAACOc/KHPEgUifqIA2-L9aJk7-mpGKwGPg7I1yQCLcBGAs/s1600/Headline_full.png" /></a></div><div><br /></div><div>The payoff for properly configuring our SystemVerilog source project is that we can more-productively work with our SystemVerilog sources. In the screenshot above, the hover pop-up is displaying the documentation for the uvm_driver class.&nbsp;</div><div><br /></div><div>In future blog posts I'll dig into more features of Eclipse, DVKit, and plug-ins like SVEditor. For now, just a reminder that you can always download the completely open source DVKit <a href="https://sourceforge.net/projects/dvkit/files/1.8.0/">here</a>.</div><div><br /></div>