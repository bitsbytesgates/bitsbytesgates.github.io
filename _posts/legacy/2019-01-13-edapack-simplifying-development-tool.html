---
layout: legacy_post
title: 'EDAPack: Simplifying Development-Tool Management'
date: '2019-01-13T19:00:00.002-08:00'
author: Matthew Ballance
tags:
- Formal Verification
- Electronic Design Automation
- EDA
- Symbiyosys
- Design Verification
- EDAPack
modified_time: '2019-01-13T19:00:55.885-08:00'
thumbnail: https://1.bp.blogspot.com/--njzrHQyvJI/XDuhIZ-ON6I/AAAAAAAACeg/x7K7gEJfY9wu1TOnIukV9JlxQ7zi7nImwCLcBGAs/s72-c/edapack-splash.png
blogger_id: tag:blogger.com,1999:blog-142675602739945566.post-6059972311529904563
blogger_orig_url: https://bitsbytesgates.blogspot.com/2019/01/edapack-simplifying-development-tool.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/--njzrHQyvJI/XDuhIZ-ON6I/AAAAAAAACeg/x7K7gEJfY9wu1TOnIukV9JlxQ7zi7nImwCLcBGAs/s1600/edapack-splash.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="300" data-original-width="540" src="https://1.bp.blogspot.com/--njzrHQyvJI/XDuhIZ-ON6I/AAAAAAAACeg/x7K7gEJfY9wu1TOnIukV9JlxQ7zi7nImwCLcBGAs/s1600/edapack-splash.png" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><br /></div>One of my first "real" engineering courses during my college days centered around scripting and working with Unix, and the professor really emphasized that any repetitive task was a candidate for automation. It's a point that resonated with me at the time, and I continue to question whether any mind-numbing and multi-step process I face should be automated.<br /><div><br /></div><div><b><u>Challenges of Managing EDA Tools</u></b></div><div>One of those mind-numbing processes I've been facing recently is managing my installations of development tools -- specifically, the electronic design automation (EDA) tools that I use to simulate and synthesize Verilog hardware descriptions and develop the embedded software that runs on those devices.</div><div>In my experience, EDA tools are a bit different than the standard software that might be installed by default on your Linux workstation:</div><ul><li>EDA software is enough of a niche market that builds will either just not be available for your Linux distribution, or will be an older version of the software.</li><li>I often need to install EDA software on machines where I don't have root access, so it wouldn't help me much if the Linux distribution provided a pre-built version of the software</li><li>I often don't have control over the Linux distribution and version that I have to use. CentOS/RHEL 6, released in 2011, is still quite common and will likely continue to be common since support is offered through 2020.</li><li>It's often necessary to have several versions of EDA software installed at a given time. Projects often have a dependency on a specific version -- at least until a newer version is validated, so multiple versions must coexist</li></ul><div>These challenges, in and of themselves, make maintaining a collection of EDA tools time-consuming.</div><div><br /></div><div><b><u>Challenges of Managing OSS EDA Tools</u></b></div><div>When it comes to working with open-source EDA tools, there is another level of complexity. These tools are often provided in source form, so they must be installed by the end user. EDA software, like any other, can be complex and can have dependencies on additional software packages. Compiling <a href="https://symbiyosys.readthedocs.io/en/latest/">SymbiYosys</a>, the open-source formal-analysis tool, requires that the source for seven other packages be fetched, compiled, and installed. This is complex enough when the user has administrator access to the machine and can install needed development libraries. Without administrator access, this process becomes incredibly complex. And, of course, when a new version of one of the packages is released, the whole process must be repeated.</div><div><br /></div><div><b><u>Introducing EDAPack</u></b></div><div>I created <a href="https://github.com/edapack">EDAPack</a>, which I consider to be in an Alpha state, to address the challenges I describe above. You can think of EDAPack has having two main components, as shown in the diagram below:</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-mHnyi80IJ5M/XDvtzUQzq2I/AAAAAAAACfM/mGuwBfXr7Ps0ArY4CAkLdPMJmD9uBh6UwCLcBGAs/s1600/EDAPackDiagram_2.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="509" data-original-width="947" height="343" src="https://2.bp.blogspot.com/-mHnyi80IJ5M/XDvtzUQzq2I/AAAAAAAACfM/mGuwBfXr7Ps0ArY4CAkLdPMJmD9uBh6UwCLcBGAs/s640/EDAPackDiagram_2.PNG" width="640" /></a></div><div><br /></div><div>First off is the base set of tools, shown in the bottom box. EDAPack contains an installation of <a href="http://modules.sourceforge.net/">Environment Modules</a>, which is a software package that is somewhat-widely used to manage configuring the environment for different software tools. Modules makes it easy to configure the environment with the right mix of tool versions with a minimum of fuss. EDAPack also contains an installation of Python3, a software package that is increasingly required to run open-source software tools, but is somewhat difficult to get correctly-installed on older Linux distributions. Finally, EDAPack contains scripts to manage installation of tools into the EDAPack tree.</div><div><br /></div><div>The second part of EDAPack is most significant for those of you that are using open-source tools, such as a GCC cross-compiler or one of the open-source Verilog simulators. A key aspect of EDAPack's mission is to provide pre-compiled versions of these packages that can simply be installed and used, skipping all the complexities of installing development libraries and compiling required dependencies. Right now, just a few packages are setup to be used in this way, but the goal is to expand that set based on user demand.</div><div><br /></div><div>Now, providing pre-compiled software is always an interesting proposition in a Linux environment. Different distributions provide different versions of tool and libraries, making it difficult to deliver software that will run on a variety of distributions. EDAPack compiles packages on CentOS 6, then tests the software on a variety of Linux distributions (courtesy of <a href="https://www.docker.com/">Docker</a>), ensuring that the software will run correctly on a wide variety of Linux distributions.</div><div><br /></div><div><b><u>How does it Work?</u></b></div><div>Getting started is actually pretty simple (and that's by design): just download EDAPack from the <a href="https://github.com/EDAPack/edapack/releases">GitHub release</a> page. After installing EDAPack, you'll want to source a setup script in the EDAPack 'etc' directory (&lt;edapack&gt;/etc/edapack.sh) in order to configure some initial paths.</div><div><br /></div><div>From there, you'll probably want to install some software. This can be done using the <span style="font-family: Courier New, Courier, monospace;">edapack avail</span>&nbsp;command to list software that is available to install:</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-P3N3XEHWRlA/XDvy3lQNRaI/AAAAAAAACfY/gcB4othuXEUq-bPD__iZ7JRRUOZTKGTwACLcBGAs/s1600/edapack_avail.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="97" data-original-width="486" src="https://1.bp.blogspot.com/-P3N3XEHWRlA/XDvy3lQNRaI/AAAAAAAACfY/gcB4othuXEUq-bPD__iZ7JRRUOZTKGTwACLcBGAs/s1600/edapack_avail.PNG" /></a></div><div><br /></div><div>Once you know which software you'd like to install, the <span style="font-family: Courier New, Courier, monospace;">edapack install</span> command is used to&nbsp; fetch and install the software into the EDAPack tree. For example, <span style="font-family: Courier New, Courier, monospace;">edapack install verilator</span>&nbsp;fetches a pre-built version of Verilator from the release area on GitHub and installs it into the EDAPack tree.</div><div><br /></div><div>Before using software from the EDAPack tree, you will use the <i>module</i>&nbsp;tool (provided by <a href="http://modules.sourceforge.net/">Environment Modules</a>) to list the installed packages and load tools into your environment. Here's the output from <span style="font-family: Courier New, Courier, monospace;">module avail</span>, which lists the installed tools.&nbsp;</div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-7wMyjYW6dSc/XDvzMF_7l2I/AAAAAAAACfg/95Ve7_SxfCczmB0r95scXQyys7nKHxGZQCLcBGAs/s1600/module_avail.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="57" data-original-width="485" src="https://1.bp.blogspot.com/-7wMyjYW6dSc/XDvzMF_7l2I/AAAAAAAACfg/95Ve7_SxfCczmB0r95scXQyys7nKHxGZQCLcBGAs/s1600/module_avail.PNG" /></a></div><div><br /></div><div>We can see that <i>symbiyosys</i> and <i>verilator</i>&nbsp;are installed. We can load a specific version of these tools, or specify the 'latest' version to get the newest installed version.</div><div><br /></div><div>In other words, simply issuing the command <span style="font-family: Courier New, Courier, monospace;">module load verilator/latest</span> will setup our environment to use the latest-installed version of <a href="https://www.veripool.org/wiki/verilator">Verilator</a>.</div><div><b><u><br /></u></b></div><div><b><u>Current Status and Call to Action</u></b></div><div><br /></div><div>Currently, EDAPack is newly-released, provides a bare minimum of packages (Verilator, Icarus Verilog, and SymbiYosys), and provides support for Linux only. EDAPack is useful to me, and I'll continue to evolve it to meet my needs. However, I'm very interested in whether EDAPack could be useful to you as well.</div><div><br /></div><div>Are you an EDA user? What tools would you like to see delivered in this way? What OS (Linux distro or other) do you use, and would like to ensure is supported?</div><div><br /></div><div>Are you an author of open-source engineering software? Would you like to have your software made available to users in this way?</div><div><br /></div><div>Do you have other ideas of what might be possible with a framework like this?</div><div><br /></div><div>EDAPack is designed to enable hardware and embedded-software developers focus on developing their designs, not on compiling their development tools. I'm interested in your input on whether you feel EDAPack is a useful concept and, if so, what could make it even more useful to you. Feel free to comment on the blog, or file requests on GitHub. What tools are in your pack?</div><div><br /></div><div><br /></div><ul><ul></ul></ul><div></div>