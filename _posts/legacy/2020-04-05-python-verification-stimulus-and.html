---
layout: legacy_post
title: 'Python Verification Stimulus and Coverage: Data Types'
date: '2020-04-05T10:02:00.000-07:00'
author: Matthew Ballance
tags:
- functional coverage
- Python
- Cocotb
- Functional Verification
- constrained random
modified_time: '2020-04-05T10:02:17.914-07:00'
thumbnail: https://1.bp.blogspot.com/-3xDfd2VYh08/Xn5nbRvUAUI/AAAAAAAAC4Q/YjgMPTE9fXA0Tp7oIaxYgRtFJ-HsGWuxQCPcBGAYYCw/s72-c/ModelingRandomStimulusSplash.png
blogger_id: tag:blogger.com,1999:blog-142675602739945566.post-373800869599754092
blogger_orig_url: https://bitsbytesgates.blogspot.com/2020/04/python-verification-stimulus-and.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-3xDfd2VYh08/Xn5nbRvUAUI/AAAAAAAAC4Q/YjgMPTE9fXA0Tp7oIaxYgRtFJ-HsGWuxQCPcBGAYYCw/s1600/ModelingRandomStimulusSplash.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="300" data-original-width="540" src="https://1.bp.blogspot.com/-3xDfd2VYh08/Xn5nbRvUAUI/AAAAAAAAC4Q/YjgMPTE9fXA0Tp7oIaxYgRtFJ-HsGWuxQCPcBGAYYCw/s1600/ModelingRandomStimulusSplash.png" /></a></div><br /><div><br /></div><div>In my last post,&nbsp;<a href="https://bitsbytesgates.blogspot.com/2020/03/modeling-random-stimulus-and-functional.html">Modeling Random Stimulus and Functional Coverage in Python</a>, I introduced a Python library for modeling random variables, constraints, and functional coverage. Starting with this post, I'll go through several aspects of the <a href="https://github.com/fvutils/pyvsc">PyVSC</a> library in greater detail. In this post, I'll cover the data types supported by PyVSC.</div><div><br /></div><div>There are two reasons for doing this. For one thing, I think it's a useful way to describe the key features of the library (and hope you agree). The other reason is documentation. I don't do New Year's resolutions, but if I did one of mine this year would have been to do a better job of documenting my projects. For me, at least, documentation seems to be one of the hardest parts of a project -- or, at least, the easiest to defer and ignore. After coming back to a couple of my older projects and having to read code to figure out how to use them, I've decided that I need to invest more in documentation.</div><div><br /></div><div>Fortunately, creating good documentation and making it readily-available has gotten much easier. Sphinx does a great job of converting ReStructured Text (RST) into nice-looking documentation. <a href="https://readthedocs.org/">Read-the-docs</a>&nbsp;ensures that the latest and greatest version of documentation is always just a click away. You can always find the latest PyVSC documentation <a href="https://py-vsc.readthedocs.io/en/latest/">here</a>, and I'm investing more time in getting my other projects documented in the same way.</div><div><br /></div><div>So, there you have it. My strategy is to introduce a set of PyVSC features in each of the next few posts. At the same time, I'll ensure the documentation for those features is in place. With that, let's dig in!</div><div><br /></div><h3>Verification Requires Being Specific with Datatypes</h3><div>Increasingly, programming languages (looking at you, Python) are eager to separate the declaration of scalar data types from the way that they are represented. While C/C++, SystemVerilog, and Java all require the user to specify information about scalar data types -- width, sign, etc -- Python doesn't. An integer variable is as wide as it needs to be to hold the values the user wants to store in it. Furthermore, an integer variable doesn't have any notion of being signed or unsigned.</div><div><br /></div><div>When verifying hardware, we need to be a bit more specific because we're working with designs that very much care about the representation of data types. The nets transferring data across a bus interface have a fixed width, and the data stored in registers has both a width and a sign. Consequently, the verification code we write must also be specific about the data it is sending and receiving from the design being verified.</div><div><br /></div><div>So, when generating stimulus and collecting coverage, we definitely need to capture the width of each verification-centric variable, and whether it is signed or unsigned. With stimulus-generation , there is one other piece of information that we need to track: whether the variable is randomized.&nbsp;</div><div><br /></div><h3>PyVSC and Scalar Datatypes</h3><div>PyVSC uses specific data types for both constrained-random stimulus generation and for functional coverage collection. Like other randomization and coverage-collection frameworks, the use of specific data types provided by the library, instead of the language-provided built-in data types, serves two purposes. First, it allows the user to be sufficiently specific about the characteristics and meta-data of the data type. Second, it enables the library to capture expressions.<br /><br />Currently, PyVSC supports three core categories of data type:<br /><br /><ul><li>Integer scalar -- specific-bitwidth, signed and unsigned, random and non-random</li><li>Enumerated -- random and non-random variables&nbsp;</li><li>Class -- random and non-random instances of a <i>randobj</i>&nbsp;class</li></ul><div><pre style="box-sizing: border-box; color: #404040; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; line-height: 1.4; overflow: auto; padding: 12px;"><code><span class="nd" style="box-sizing: border-box; color: #555555; font-weight: bold;">@vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">randobj</span><br /><span class="k" style="box-sizing: border-box; color: #007020; font-weight: bold;">class</span> <span class="nc" style="box-sizing: border-box; color: #0e84b5; font-weight: bold;">my_s</span><span class="p" style="box-sizing: border-box;">(</span><span class="nb" style="box-sizing: border-box; color: #007020;">object</span><span class="p" style="box-sizing: border-box;">):</span><br /><br />    <span class="k" style="box-sizing: border-box; color: #007020; font-weight: bold;">def</span> <span class="nf" style="box-sizing: border-box; color: #06287e;">__init__</span><span class="p" style="box-sizing: border-box;">(</span><span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="p" style="box-sizing: border-box;">):</span><br />        <span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">a</span> <span class="o" style="box-sizing: border-box; color: #666666;">=</span> <span class="n" style="box-sizing: border-box;">vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">rand_uint8_t</span><span class="p" style="box-sizing: border-box;">()</span><br />        <span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">b</span> <span class="o" style="box-sizing: border-box; color: #666666;">=</span> <span class="n" style="box-sizing: border-box;">vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">uint16_t</span><span class="p" style="box-sizing: border-box;">(</span><span class="mi" style="box-sizing: border-box; color: #208050;">2</span><span class="p" style="box-sizing: border-box;">)</span><br />        <span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">c</span> <span class="o" style="box-sizing: border-box; color: #666666;">=</span> <span class="n" style="box-sizing: border-box;">vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">rand_int64_t</span><span class="p" style="box-sizing: border-box;">()</span></code></pre></div><div>PyVSC provides pre-defined data-type classes that roughly correspond to the standard data types defined by the stdint.h C/C++ header file. These data-type classes have widths that are multiples of 8 bits, and specify the sign and randomness of the variable.<br /><br /><table class="docutils align-default" style="background-color: #fcfcfc; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(225, 228, 229); box-sizing: border-box; color: #404040; empty-cells: show; font-family: Lato, proxima-nova, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 16px; margin-bottom: 24px;"><colgroup style="box-sizing: border-box;"><col style="box-sizing: border-box; width: 0px;"></col><col style="box-sizing: border-box; width: 0px;"></col><col style="box-sizing: border-box; width: 0px;"></col><col style="box-sizing: border-box; width: 0px;"></col></colgroup><tbody style="box-sizing: border-box;"><tr class="row-odd" style="box-sizing: border-box;"><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Width</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Signed</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Random</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Non-Random</div></td></tr><tr class="row-even" style="box-sizing: border-box;"><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">8</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Y</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">rand_int8_t</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">int8_t</div></td></tr><tr class="row-odd" style="box-sizing: border-box;"><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">8</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">N</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">rand_uint8_t</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">uint8_t</div></td></tr><tr class="row-even" style="box-sizing: border-box;"><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">16</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Y</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">rand_int16_t</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">int16_t</div></td></tr><tr class="row-odd" style="box-sizing: border-box;"><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">16</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">N</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">rand_uint16_t</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">uint16_t</div></td></tr><tr class="row-even" style="box-sizing: border-box;"><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">32</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Y</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">rand_int32_t</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">int32_t</div></td></tr><tr class="row-odd" style="box-sizing: border-box;"><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">32</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">N</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">rand_uint32_t</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">uint32_t</div></td></tr><tr class="row-even" style="box-sizing: border-box;"><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">64</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Y</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">rand_int64_t</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">int64_t</div></td></tr><tr class="row-odd" style="box-sizing: border-box;"><td style="background-color: #f3f6f6; border-bottom: 0px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">64</div></td><td style="background-color: #f3f6f6; border-bottom: 0px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">N</div></td><td style="background-color: #f3f6f6; border-bottom: 0px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">rand_uint64_t</div></td><td style="background-color: #f3f6f6; border-bottom: 0px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">uint64_t</div></td></tr></tbody></table>Just to keep things straightforward, PyVSC defines classes that capture all 16 combinations of width, sign, and randomness.</div><div><br /></div><div>PyVSC also provides classes for capturing fields that have a width that is not a multiple of 8, or that is wider than 64 bits.&nbsp;</div><div><br /></div><div>First, an example:</div><div><br /></div><div><pre style="box-sizing: border-box; color: #404040; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; line-height: 1.4; overflow: auto; padding: 12px;"><span class="nd" style="box-sizing: border-box; color: #555555; font-weight: bold;">@vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">randobj</span><br /><span class="k" style="box-sizing: border-box; color: #007020; font-weight: bold;">class</span> <span class="nc" style="box-sizing: border-box; color: #0e84b5; font-weight: bold;">my_s</span><span class="p" style="box-sizing: border-box;">(</span><span class="nb" style="box-sizing: border-box; color: #007020;">object</span><span class="p" style="box-sizing: border-box;">):</span><br /><br />    <span class="k" style="box-sizing: border-box; color: #007020; font-weight: bold;">def</span> <span class="nf" style="box-sizing: border-box; color: #06287e;">__init__</span><span class="p" style="box-sizing: border-box;">(</span><span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="p" style="box-sizing: border-box;">):</span><br />        <span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">a</span> <span class="o" style="box-sizing: border-box; color: #666666;">=</span> <span class="n" style="box-sizing: border-box;">vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">rand_int_t</span><span class="p" style="box-sizing: border-box;">(</span><span class="mi" style="box-sizing: border-box; color: #208050;">27</span><span class="p" style="box-sizing: border-box;">)</span><br />        <span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">b</span> <span class="o" style="box-sizing: border-box; color: #666666;">=</span> <span class="n" style="box-sizing: border-box;">vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">rand_bit_t</span><span class="p" style="box-sizing: border-box;">(</span><span class="mi" style="box-sizing: border-box; color: #208050;">12</span><span class="p" style="box-sizing: border-box;">)</span></pre></div><div><br /></div><div><br /></div><div><table class="docutils align-default" style="background-color: #fcfcfc; border-collapse: collapse; border-spacing: 0px; border: 1px solid rgb(225, 228, 229); box-sizing: border-box; color: #404040; empty-cells: show; font-family: Lato, proxima-nova, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 16px; margin-bottom: 24px;"><colgroup style="box-sizing: border-box;"><col style="box-sizing: border-box; width: 0px;"></col><col style="box-sizing: border-box; width: 0px;"></col><col style="box-sizing: border-box; width: 0px;"></col></colgroup><tbody style="box-sizing: border-box;"><tr class="row-odd" style="box-sizing: border-box;"><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Signed</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Random</div></td><td style="background-color: #f3f6f6; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Non-Random</div></td></tr><tr class="row-even" style="box-sizing: border-box;"><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">Y</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">rand_int_t</div></td><td style="background-color: transparent; border-bottom: 1px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">int_t</div></td></tr><tr class="row-odd" style="box-sizing: border-box;"><td style="background-color: #f3f6f6; border-bottom: 0px solid rgb(225, 228, 229); border-left: 0px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">N</div></td><td style="background-color: #f3f6f6; border-bottom: 0px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">rand_bit_t</div></td><td style="background-color: #f3f6f6; border-bottom: 0px solid rgb(225, 228, 229); border-left: 1px solid rgb(225, 228, 229); box-sizing: border-box; font-size: 14.4px; margin: 0px; overflow: visible; padding: 8px 16px; vertical-align: middle; white-space: nowrap;"><div style="box-sizing: border-box; font-size: 16px; line-height: 18px;">bit_t</div></td></tr></tbody></table></div><div><br /></div><div>The <a href="https://py-vsc.readthedocs.io/en/latest/data_types.html">Data Types</a> chapter of the documentation contains more examples and details on how all of these data types are used.</div><div><br /><br /></div></div><div><h3>PyVSC and Composite Data Types</h3></div><div>In true object-oriented fashion, PyVSC supports composing larger randomizable classes out of smaller randomizable classes.&nbsp;</div><div><br /></div><div><pre style="box-sizing: border-box; color: #404040; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; line-height: 1.4; overflow: auto; padding: 12px;"><span class="nd" style="box-sizing: border-box; color: #555555; font-weight: bold;">@vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">randobj</span><br /><span class="k" style="box-sizing: border-box; color: #007020; font-weight: bold;">class</span> <span class="nc" style="box-sizing: border-box; color: #0e84b5; font-weight: bold;">my_sub_s</span><span class="p" style="box-sizing: border-box;">(</span><span class="nb" style="box-sizing: border-box; color: #007020;">object</span><span class="p" style="box-sizing: border-box;">):</span><br />    <span class="k" style="box-sizing: border-box; color: #007020; font-weight: bold;">def</span> <span class="nf" style="box-sizing: border-box; color: #06287e;">__init__</span><span class="p" style="box-sizing: border-box;">(</span><span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="p" style="box-sizing: border-box;">):</span><br />        <span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">a</span> <span class="o" style="box-sizing: border-box; color: #666666;">=</span> <span class="n" style="box-sizing: border-box;">vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">rand_uint8_t</span><span class="p" style="box-sizing: border-box;">()</span><br />        <span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">b</span> <span class="o" style="box-sizing: border-box; color: #666666;">=</span> <span class="n" style="box-sizing: border-box;">vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">rand_uint8_t</span><span class="p" style="box-sizing: border-box;">()</span><br /><br /><span class="nd" style="box-sizing: border-box; color: #555555; font-weight: bold;">@vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">randobj</span><br /><span class="k" style="box-sizing: border-box; color: #007020; font-weight: bold;">class</span> <span class="nc" style="box-sizing: border-box; color: #0e84b5; font-weight: bold;">my_s</span><span class="p" style="box-sizing: border-box;">(</span><span class="nb" style="box-sizing: border-box; color: #007020;">object</span><span class="p" style="box-sizing: border-box;">):</span><br /><br />    <span class="k" style="box-sizing: border-box; color: #007020; font-weight: bold;">def</span> <span class="nf" style="box-sizing: border-box; color: #06287e;">__init__</span><span class="p" style="box-sizing: border-box;">(</span><span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="p" style="box-sizing: border-box;">):</span><br />        <span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">i1</span> <span class="o" style="box-sizing: border-box; color: #666666;">=</span> <span class="n" style="box-sizing: border-box;">vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">rand_attr</span><span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">my_sub_s</span><span class="p" style="box-sizing: border-box;">())</span><br />        <span class="bp" style="box-sizing: border-box; color: #007020;">self</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">i2</span> <span class="o" style="box-sizing: border-box; color: #666666;">=</span> <span class="n" style="box-sizing: border-box;">vsc</span><span class="o" style="box-sizing: border-box; color: #666666;">.</span><span class="n" style="box-sizing: border-box;">attr</span><span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">my_sub_s</span><span class="p" style="box-sizing: border-box;">())</span></pre></div><div><br /></div><div>In these cases, it's important to specify whether the class-type attribute should be randomized when the containing class is randomized. Decorating the attribute with&nbsp;<i>rand_attr </i>will cause the sub-attributes to be randomized. Not decorating the field, or decorating it with <i>attr</i>&nbsp;will cause the sub-attributes to not be randomized.<br /><h3>Accessing Attribute Values</h3></div><div>It's quite common in randomization and coverage frameworks (eg SystemC SCV, CRAVE) to use method calls to access the value of randomizable class attributes. This is because the randomizable attributes are, themselves, objects.<br />PyVSC provides get_val() and set_val() methods for each scalar datatype provided by the library. In addition, PyVSC implements operator overloading for <i>randobj-</i>decorated classes. In most cases, this means that special randomizable class attributes operate just like any other scalar Python class attribute.</div><div><br /></div><h3>Coming up Next</h3><div>In the next blog post, we'll look at PyVSC's support for modeling, capturing, and saving functional coverage data. Until then, feel free to check out the <a href="https://py-vsc.readthedocs.io/en/latest/">PyVSC documentation</a> on readthedocs.io. If you'd like to experiment with PyVSC, install the <i>pyvsc</i>&nbsp;package from <a href="http://pypi.org/">pypi.org</a>&nbsp;or check out the <a href="https://github.com/fvutils/pyvsc">PyVSC</a> repository on GitHub.</div><ul><ul><ul></ul></ul></ul><br /><br /><div class="separator" style="clear: both;"><b><i>Disclaimer</i></b></div><div class="separator" style="clear: both;"><i>The views and opinions expressed above are solely those of the author and do not represent those of my employer or any other party.</i></div><div class="separator" style="clear: both;"><i><br /></i></div>